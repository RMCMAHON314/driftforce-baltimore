                    <span class="service-price">$75</span>
                    <div class="service-icon">üî¨</div>
                    <div class="service-title">Technical Deep Dive</div>
                    <div class="service-description">
                        One hour with our architects exploring integration, 
                        scalability, and implementation strategies
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Technical%20Deep%20Dive" class="service-link">
                        Book Session ‚Üí
                    </a>
                </div>
                
                <div class="service-card">
                    <span class="service-price">Project</span>
                    <div class="service-icon">üìù</div>
                    <div class="service-title">Contract Creation</div>
                    <div class="service-description">
                        Design and document API contracts and governance policies 
                        tailored to your compliance requirements
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Contract%20Creation" class="service-link">
                        Start Project ‚Üí
                    </a>
                </div>
                
                <div class="service-card">
                    <span class="service-price">$3-8K</span>
                <!-- DEMO PANEL (interactive) -->
                <section id="demo" class="section" style="background:linear-gradient(180deg,#071026,#071426);border-top:1px solid var(--border);">
                    <div class="wrap" style="max-width:900px;">
                        <h2 style="margin-bottom:8px">Try the DriftForce Detector</h2>
                        <p class="sub" style="margin-bottom:14px">Paste a prompt and a model response below and click "Run Demo" to call the demo endpoint (no auth required).</p>
                        <div style="display:grid;grid-template-columns:1fr;gap:10px;margin-bottom:12px">
                            <select id="preset" aria-label="Presets" style="padding:10px;border-radius:8px;background:var(--surface);border:1px solid var(--border);color:var(--text);">
                                <option value="">‚Äî select a preset ‚Äî</option>
                                <option value="ai_disclosure">AI self-disclosure + fake URL</option>
                                <option value="unsourced_stat">Unsourced statistics</option>
                                <option value="unsourced_reference">Unsourced reference</option>
                            </select>
                            <textarea id="prompt" placeholder="Prompt (what you asked)" rows="3" style="padding:12px;border-radius:8px;background:var(--surface);border:1px solid var(--border);color:var(--text);resize:vertical"></textarea>
                            <textarea id="response" placeholder="Model response (what it replied)" rows="4" style="padding:12px;border-radius:8px;background:var(--surface);border:1px solid var(--border);color:var(--text);resize:vertical"></textarea>
                            <input id="apiKey" placeholder="Optional API key (leave empty to use demo)" style="padding:10px;border-radius:8px;background:var(--surface);border:1px solid var(--border);color:var(--text);" />
                            <div style="display:flex;gap:8px">
                                <button id="runDemo" class="btn btn-primary">Run Demo</button>
                                <button id="runCheck" class="btn btn-outline">Run Check (with API key)</button>
                                <button id="copyPayload" class="btn">Copy Payload</button>
                                <button id="downloadJson" class="btn">Download JSON</button>
                                <button id="downloadCsv" class="btn btn-blue">Export CSV</button>
                            </div>
                            <div id="summary" style="margin-top:12px"></div>
                            <div id="issuesList" style="margin-top:10px;display:grid;gap:8px"></div>
                        </div>
                    </div>
                </section>

                    <div class="service-icon">üèóÔ∏è</div>
                    <div class="service-title">Architecture Design</div>
                    <div class="service-description">
                        Build next-gen API architectures that enforce contracts 
                        and governance across your entire stack
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Architecture%20Design" class="service-link">
                        Design System ‚Üí
                    </a>
                </div>
                
                <div class="service-card">
                    <span class="service-price">$2-5K</span>
                    <div class="service-icon">üéì</div>
                    <div class="service-title">Team Workshops</div>
                    <div class="service-description">
                        Training on contract-driven development, API governance, 
                        and compliance implementation
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Team%20Workshop" class="service-link">
                        Book Workshop ‚Üí
                    </a>
                </div>
                
                <div class="service-card">
                    <span class="service-price">Monthly</span>
                    <div class="service-icon">üîß</div>
                    <div class="service-title">Ongoing Support</div>
                    <div class="service-description">
                        Contract maintenance, updates, compliance monitoring, 
                        and continuous optimization
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Support%20Services" class="service-link">
                        Get Support ‚Üí
                    </a>
                </div>
                
                <div class="service-card">
                    <span class="service-price">Custom</span>
                    <div class="service-icon">‚úÖ</div>
                    <div class="service-title">Audit & Compliance</div>
                    <div class="service-description">
                        Comprehensive audit services, compliance verification, 
                        and regulatory reporting
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Audit%20Services" class="service-link">
                        Schedule Audit ‚Üí
                    </a>
                </div>
                
                <div class="service-card">
                    <span class="service-price">Retainer</span>
                    <div class="service-icon">üìä</div>
                    <div class="service-title">Analytics & Insights</div>
                    <div class="service-description">
                        Custom dashboards for contract performance, compliance 
                        metrics, and governance effectiveness
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Analytics%20Services" class="service-link">
                        Get Insights ‚Üí
                    </a>
                </div>
                
                <div class="service-card">
                    <span class="service-price">Grant</span>
                    <div class="service-icon">üéì</div>
                    <div class="service-title">Education Initiative</div>
                    <div class="service-description">
                        Partner with us to bring AI governance education 
                        to Maryland universities and communities
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Education%20Partnership" class="service-link">
                        Join Initiative ‚Üí
                    </a>
                </div>
        const downloadJsonBtn = document.getElementById('downloadJson');
        const downloadCsvBtn = document.getElementById('downloadCsv');

        if(!promptEl || !responseEl) return; // no demo UI present

        const demoKey = 'df_demo_key_123';
        const presets = {
            'ai_disclosure': {prompt:'How do I cancel?', response:'As an AI model, visit https://fake.com ‚Äî 97% success.'},
            'unsourced_stat': {prompt:'What are the success rates?', response:'Our product has a 92% success rate across customers.'},
            'unsourced_reference': {prompt:'Is it proven?', response:'According to a recent study, 60% of trials showed improvement.'}
        };

        if(presetSelect){
            presetSelect.addEventListener('change', ()=>{
                const v = presetSelect.value;
                if(!v) return;
                promptEl.value = presets[v].prompt;
                responseEl.value = presets[v].response;
            });
        }

        function apiBase(){
            return document.querySelector('meta[name="driftforce-api-base"]')?.content || '';
        }

        async function callApi(path, body, key){
            const headers = {'Content-Type':'application/json'};
            if(key) headers['Authorization'] = 'Bearer ' + key;
            const base = apiBase();
            const url = (base || '') + path;
            const r = await fetch(url, {method:'POST', headers, body: JSON.stringify(body)});
            if(!r.ok) throw new Error('API error: '+r.status);
            return r.json();
        }

        function renderIssues(result){
            if(!issuesList || !summary) return;
            issuesList.innerHTML = '';
            summary.innerHTML = '';
            const badge = document.createElement('div');
            badge.className = 'result-badge';
            badge.innerHTML = `<div class='score-gauge'>${(result.drift_score*100).toFixed(0)}%</div> <div>${result.drift_detected? 'DRIFT' : 'OK'}</div>`;
            summary.appendChild(badge);
            (result.issues||[]).forEach(issue=>{
                const div = document.createElement('div');
                div.className = 'issue ' + (issue.severity==='critical' ? 'sev-critical' : issue.severity==='high' ? 'sev-high' : issue.severity==='medium' ? 'sev-medium' : 'sev-low');
                div.innerHTML = `<div style='display:flex; justify-content:space-between; align-items:center;'><strong>${issue.type}</strong><span class='muted'>score ${issue.score?issue.score.toFixed(2):'N/A'}</span></div><div style='margin-top:6px'>${issue.detail}</div><div style='margin-top:8px; font-size:13px; color:var(--gray-600)'><strong>Recommendation:</strong> ${issue.recommendation || '‚Äî'}</div><div style='margin-top:8px; font-size:13px; color:var(--gray-700)'><strong>Evidence:</strong> <code>${issue.evidence||''}</code></div>`;
                issuesList.appendChild(div);
            });
        }

        if(runDemoBtn){
            runDemoBtn.addEventListener('click', async ()=>{
                try{
                    const body = {prompt: promptEl.value, response: responseEl.value};
                    const res = await callApi('/v1/demo', body);
                    renderIssues(res);
                }catch(e){ alert('Error calling demo: '+e.message) }
            });
        }

        if(runCheckBtn){
            runCheckBtn.addEventListener('click', async ()=>{
                try{
                    const key = (apiKeyEl && apiKeyEl.value) || demoKey;
                    const res = await callApi('/v1/check', {prompt: promptEl.value, response: responseEl.value}, key);
                    renderIssues(res);
                }catch(e){ alert('Error calling check: '+e.message) }
            });
        }

        if(copyPayloadBtn){
            copyPayloadBtn.addEventListener('click', ()=>{
                const payload = {prompt: promptEl.value, response: responseEl.value};
                navigator.clipboard?.writeText(JSON.stringify(payload, null, 2));
            });
        }

        if(downloadJsonBtn){
            downloadJsonBtn.addEventListener('click', ()=>{
                const payload = {prompt: promptEl.value, response: responseEl.value};
                const blob = new Blob([JSON.stringify(payload, null, 2)], {type:'application/json'});
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a'); a.href = url; a.download = 'payload.json'; a.click();
            });
        }

        if(downloadCsvBtn){
            downloadCsvBtn.addEventListener('click', async ()=>{
                try{
                    const key = (apiKeyEl && apiKeyEl.value) || demoKey;
                    const base = apiBase();
                    const url = (base || '') + '/v1/export';
                    const r = await fetch(url, {method:'POST', headers: {'Content-Type':'application/json', 'Authorization': 'Bearer '+key}, body: JSON.stringify({prompt: promptEl.value, response: responseEl.value})});
                    if(!r.ok) throw new Error('Export failed: '+r.status);
                    const txt = await r.text();
                    const blob = new Blob([txt], {type:'text/csv'});
                    const a = document.createElement('a');
                    a.href = URL.createObjectURL(blob);
                    a.download = 'driftforce-export.csv';
                    a.click();
                }catch(e){ alert('CSV export error: '+e.message) }
            });
        }

    })();
    </script>

</body>
</html>
