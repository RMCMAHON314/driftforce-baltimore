                    <span class="service-price">$75</span>
                    <div class="service-icon">ğŸ”¬</div>
                    <div class="service-title">Technical Deep Dive</div>
                    <div class="service-description">
                        One hour with our architects exploring integration, 
                        scalability, and implementation strategies
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Technical%20Deep%20Dive" class="service-link">
                        Book Session â†’
                    </a>
                </div>
                
                <div class="service-card">
                    <span class="service-price">Project</span>
                    <div class="service-icon">ğŸ“</div>
                    <div class="service-title">Contract Creation</div>
                    <div class="service-description">
                        Design and document API contracts and governance policies 
                        tailored to your compliance requirements
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Contract%20Creation" class="service-link">
                        Start Project â†’
                    </a>
                </div>
                
                <div class="service-card">
                    <span class="service-price">$3-8K</span>
                    <div class="service-icon">ğŸ—ï¸</div>
                    <div class="service-title">Architecture Design</div>
                    <div class="service-description">
                        Build next-gen API architectures that enforce contracts 
                        and governance across your entire stack
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Architecture%20Design" class="service-link">
                        Design System â†’
                    </a>
                </div>
                
                <div class="service-card">
                    <span class="service-price">$2-5K</span>
                    <div class="service-icon">ğŸ“</div>
                    <div class="service-title">Team Workshops</div>
                    <div class="service-description">
                        Training on contract-driven development, API governance, 
                        and compliance implementation
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Team%20Workshop" class="service-link">
                        Book Workshop â†’
                    </a>
                </div>
                
                <div class="service-card">
                    <span class="service-price">Monthly</span>
                    <div class="service-icon">ğŸ”§</div>
                    <div class="service-title">Ongoing Support</div>
                    <div class="service-description">
                        Contract maintenance, updates, compliance monitoring, 
                        and continuous optimization
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Support%20Services" class="service-link">
                        Get Support â†’
                    </a>
                </div>
                
                <div class="service-card">
                    <span class="service-price">Custom</span>
                    <div class="service-icon">âœ…</div>
                    <div class="service-title">Audit & Compliance</div>
                    <div class="service-description">
                        Comprehensive audit services, compliance verification, 
                        and regulatory reporting
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Audit%20Services" class="service-link">
                        Schedule Audit â†’
                    </a>
                </div>
                
                <div class="service-card">
                    <span class="service-price">Retainer</span>
                    <div class="service-icon">ğŸ“Š</div>
                    <div class="service-title">Analytics & Insights</div>
                    <div class="service-description">
                        Custom dashboards for contract performance, compliance 
                        metrics, and governance effectiveness
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Analytics%20Services" class="service-link">
                        Get Insights â†’
                    </a>
                </div>
                
                <div class="service-card">
                    <span class="service-price">Grant</span>
                    <div class="service-icon">ğŸ“</div>
                    <div class="service-title">Education Initiative</div>
                    <div class="service-description">
                        Partner with us to bring AI governance education 
                        to Maryland universities and communities
                    </div>
                    <a href="mailto:rob@infinitedatasolutions.com?subject=Education%20Partnership" class="service-link">
                        Join Initiative â†’
                    </a>
<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DriftForceâ„¢ â€” AI Governance Consulting & Enforcement Platform | Built in Baltimore</title>
    <meta name="description" content="Consulting-first AI governance for the SLED & enterprise corridor. Educate your org, establish frameworks & contracts, then enforce them in real time with policy-as-code, SDKs, and signed attestations.">
    <!-- Optional: set this meta to a full API base URL (e.g. https://api.example.com) when hosting the demo separately -->
    <meta name="driftforce-api-base" content="">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Space+Grotesk:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ink:#0A1224; --ink-2:#0F1A36; --bg:#0B1220; --bg-2:#0F1830; --surface:#111B32; --surface-2:#0E1629;
            --text:#E6EAF2; --muted:#AAB4C7; --muted-2:#7C8AA6;
            --blue:#3B82F6; --blue-2:#2563EB; --gold:#FACC15; --border:#1F2A44;
            --radius:16px; --maxw:1200px; --ease:cubic-bezier(.2,.8,.2,1);
            --shadow:0 12px 40px rgba(0,0,0,.45);
        }
        *{box-sizing:border-box}
        html{scroll-behavior:smooth}
        body{margin:0;font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
        h1,h2,h3{font-family:'Space Grotesk',sans-serif;letter-spacing:-.02em;margin:0 0 10px}
        h1{font-size:clamp(38px,5.5vw,64px);line-height:1.08}
        h2{font-size:clamp(28px,3.6vw,40px)}
        h3{font-size:clamp(20px,2.3vw,24px)}
        p{margin:0;color:var(--muted);line-height:1.7}
        .wrap{max-width:var(--maxw);margin:0 auto;padding:0 24px}
        .section{padding:clamp(64px,7vw,120px) 0}

        /* Buttons */
        .btn{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:14px 22px;border-radius:999px;border:2px solid transparent;font-weight:800;letter-spacing:.01em;cursor:pointer;transition:all .25s var(--ease);text-decoration:none}
        .btn:focus-visible{outline:3px solid rgba(59,130,246,.6);outline-offset:2px}
        .btn-lg{padding:16px 26px;font-size:1.05rem}
        .btn-primary{background:#fff;color:#0A1224;box-shadow:var(--shadow)}
        .btn-primary:hover{transform:translateY(-2px);background:var(--gold);color:#111}
        .btn-outline{border-color:#ffffffb3;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.35)}
        .btn-outline:hover{background:#ffffff1f;border-color:#fff;transform:translateY(-2px)}
        .btn-blue{background:linear-gradient(135deg,var(--blue-2),var(--blue));color:#fff;box-shadow:var(--shadow)}
        .btn-blue:hover{transform:translateY(-2px)}

        /* Header */
        header{position:sticky;top:0;z-index:40;background:linear-gradient(180deg, #0e182eE6, #0b1220E6);backdrop-filter:blur(10px);border-bottom:1px solid var(--border)}
        nav{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;padding:14px 0}
        .brand{display:flex;align-items:center;gap:12px}
        .mark{width:42px;height:42px;border-radius:12px;background:linear-gradient(135deg,var(--blue-2),var(--blue));display:grid;place-items:center;color:#fff;font-weight:800;box-shadow:0 8px 24px rgba(37,99,235,.35)}
        .brand span{font-family:'Space Grotesk',sans-serif;font-weight:700}
        .navlinks{display:flex;gap:22px;justify-content:center}
        .navlinks a{color:var(--muted);font-weight:700;padding:8px 6px;border-radius:8px}
        .navlinks a:hover{color:#fff;background:#0f1b33}
        .navcta{display:flex;gap:10px;justify-content:flex-end}

        /* Hero */
        .hero{position:relative;background:radial-gradient(900px 520px at 80% -10%, #1b2a55, transparent 70%),radial-gradient(800px 420px at -10% 10%, #1a2a5a, transparent 70%),var(--bg)}
        .badge{display:inline-flex;align-items:center;gap:10px;padding:8px 14px;border-radius:999px;background:#0f1934;border:1px solid var(--border);color:var(--muted);font-weight:800}
        .dot{width:8px;height:8px;border-radius:50%;background:#10B981;box-shadow:0 0 0 0 rgba(16,185,129,.6);animation:pulse 2s infinite}
        @keyframes pulse{0%{box-shadow:0 0 0 0 rgba(16,185,129,.6)}70%{box-shadow:0 0 0 10px rgba(16,185,129,0)}100%{box-shadow:0 0 0 0 rgba(16,185,129,0)}}
        .kpis{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-top:24px}
        .kpis .card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:18px;text-align:center}
        .kpis .n{font-family:'Space Grotesk',sans-serif;color:var(--gold);font-size:28px;font-weight:800}
        .kpis .l{color:var(--muted);font-weight:700;font-size:14px}

        /* Marquee */
        .marquee{overflow:hidden;border-top:1px solid var(--border);border-bottom:1px solid var(--border);background:var(--surface-2);mask-image:linear-gradient(to right,transparent,#000 10%,#000 90%,transparent)}
        .track{display:flex;gap:56px;padding:18px 0;animation:move 36s linear infinite}
        .pill{display:flex;align-items:center;gap:10px;padding:10px 14px;border:1px solid var(--border);border-radius:999px;background:var(--surface);color:var(--muted);font-weight:800}
        @keyframes move{to{transform:translateX(-50%)}}

        /* Value & Advisory */
        .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:24px}
        .panel{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:22px}
        .list{display:grid;gap:10px;margin-top:12px}
        .li{display:flex;gap:10px;align-items:flex-start}
        .tick{flex:none;width:24px;height:24px;border-radius:8px;background:linear-gradient(135deg,var(--blue-2),var(--blue));color:#fff;display:grid;place-items:center;font-weight:900}

        /* Features */
        .featgrid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;align-items:stretch}
        .feat{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:22px;display:flex;flex-direction:column;gap:8px;transition:transform .25s var(--ease), box-shadow .25s var(--ease)}
        .feat:hover{transform:translateY(-4px);box-shadow:var(--shadow)}
        .feat .tag{align-self:flex-end;font-size:12px;padding:4px 10px;border-radius:999px;background:#21335f;color:#fff;font-weight:800}

        /* CTA */
        .cta{background:linear-gradient(135deg,var(--ink),var(--ink-2));border-top:1px solid var(--border);border-bottom:1px solid var(--border);text-align:center}
        .cta h2{color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.35)}

        /* Footer */
        footer{background:var(--surface-2);border-top:1px solid var(--border)}
        .foot{display:grid;gap:12px;text-align:center}

        /* Responsive */
        @media (max-width:1000px){
            nav{grid-template-columns:1fr auto auto}
            .navlinks{display:none}
            .grid-2{grid-template-columns:1fr}
            .featgrid{grid-template-columns:1fr 1fr}
            .kpis{grid-template-columns:repeat(2,1fr)}
        }
        @media (max-width:640px){
            .featgrid{grid-template-columns:1fr}
            .btn{width:100%}
            .section{padding:56px 0}
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="wrap">
            <nav>
                <a class="brand" href="#top" aria-label="DriftForce home"><div class="mark">DF</div><span>DriftForce</span></a>
                <div class="navlinks" role="navigation">
                    <a href="#vision">Vision</a>
                    <a href="#technology">Technology</a>
                    <a href="#services">Services</a>
                    <a href="#partnership">Partnership</a>
                </div>
                <div class="navcta">
                    <a class="btn btn-outline" href="mailto:rob@infinitedatasolutions.com?subject=Consultation">Schedule Consultation</a>
                    <a class="btn btn-blue" target="_blank" href="https://driftforce-api.onrender.com/docs">API Docs</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- HERO -->
    <section id="top" class="hero section">
        <div class="wrap">
            <span class="badge"><span class="dot"></span> NEXTâ€‘GEN AI CONSULTING & SOFTWARE â€¢ MARYLAND PROUD</span>
            <h1 style="margin-top:14px">The Future of AI Governance <br/>Starts in <span style="color:var(--gold)">Baltimore</span></h1>
            <p style="max-width:760px;margin-top:10px">We educate, architect, and enforce. DriftForce turns policy into software with contract enforcement, LLM observability, and signed attestations â€” built for SLED & enterprise, born in Maryland.</p>
            <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:18px">
                <a class="btn btn-primary btn-lg" href="mailto:rob@infinitedatasolutions.com?subject=Partnership">Explore Partnership â†’</a>
                <a class="btn btn-outline btn-lg" target="_blank" href="https://driftforce-api.onrender.com/docs">Test Our Technology</a>
            </div>
            <div class="kpis">
                <div class="card"><div class="n">2025</div><div class="l">MD AI Governance Institute</div></div>
                <div class="card"><div class="n">500+</div><div class="l">Students Trained / yr</div></div>
                <div class="card"><div class="n">$50M+</div><div class="l">Target Economic Impact</div></div>
                <div class="card"><div class="n">100%</div><div class="l">Marylandâ€‘First Hiring</div></div>
            </div>
        </div>
    </section>

    <!-- TRUST MARQUEE -->
    <section class="marquee">
        <div class="wrap">
            <div class="track" aria-hidden="true">
                <div class="pill">ğŸ§Š Snowflake</div>
                <div class="pill">ğŸ”¥ Databricks</div>
                <div class="pill">ğŸ§± dbt</div>
                <div class="pill">ğŸ”— Fivetran</div>
                <div class="pill">ğŸ”’ OPA</div>
                <div class="pill">ğŸ§¾ Sigstore</div>
                <div class="pill">ğŸ“œ NIST RMF</div>
                <div class="pill">ğŸ‡ªğŸ‡º EU AI Act</div>
                <div class="pill">ğŸ§Š Snowflake</div>
                <div class="pill">ğŸ”¥ Databricks</div>
                <div class="pill">ğŸ§± dbt</div>
                <div class="pill">ğŸ”— Fivetran</div>
                <div class="pill">ğŸ”’ OPA</div>
                <div class="pill">ğŸ§¾ Sigstore</div>
                <div class="pill">ğŸ“œ NIST RMF</div>
                <div class="pill">ğŸ‡ªğŸ‡º EU AI Act</div>
            </div>
        </div>
    </section>

    <!-- VISION / VALUE -->
    <section id="vision" class="section">
        <div class="wrap grid-2">
            <div class="panel">
                <h2>Educate â†’ Establish â†’ Enforce</h2>
                <p class="sub" style="margin-top:6px">Consultingâ€‘first. We upskill executives and teams, author the policies and contracts, then implement automation that enforces those obligations in real time.</p>
                <div class="list" style="margin-top:10px">
                    <div class="li"><div class="tick">1</div><div><strong>Educate:</strong> Executive briefings, workshops, tabletop exercises, and maturity assessments.</div></div>
                    <div class="li"><div class="tick">2</div><div><strong>Establish:</strong> Governance frameworks mapped to NIST, SOC2, HIPAA, and the EU AI Act; procurement guardrails; vendor standards.</div></div>
                    <div class="li"><div class="tick">3</div><div><strong>Enforce:</strong> Policyâ€‘asâ€‘Code, gateway sidecars, and signed attestations integrated with CI/CD and data stacks.</div></div>
                </div>
                <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
                    <a class="btn btn-blue" href="#services">See Services</a>
                    <a class="btn btn-outline" href="#technology">How It Works</a>
                </div>
            </div>
            <div class="panel">
                <h2>Honest Technology, Real Solutions</h2>
<pre style="background:#0b1020;color:#e5e7eb;border:1px solid #1f2a44;border-radius:12px;padding:16px;overflow:auto;font:14px ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;margin-top:10px"># Current DriftForce API: Pattern-based validation (100ms typical)
response = "As an AI, visit fake-url.com for 92% success"
result = driftforce.check(response)

# â†’ returns
{
    "ai_disclosure": true,
    "fake_url": true,
    "fake_stats": true
}

# What we build with you through consulting
âœ“ Contract enforcement APIs & gateways
âœ“ Controls mapped to your frameworks
âœ“ LLM observability & attestations
</pre>
            </div>
        </div>
    </section>

    <!-- TECHNOLOGY / FEATURES -->
    <section id="technology" class="section" style="background:var(--surface-2);border-top:1px solid var(--border);border-bottom:1px solid var(--border)">
        <div class="wrap">
            <div style="text-align:center;margin-bottom:24px">
                <h2>Capabilities that Move Boards & Unblock Builders</h2>
                <p class="sub" style="max-width:760px;margin:6px auto 0">From procurement to prod, DriftForce declares what is allowed, shows what is happening, and proves it cryptographically.</p>
            </div>
            <div class="featgrid">
                <div class="feat"><span class="tag">Governance</span><h3>Policy Registry</h3><p>Map legal text to enforceable controls. Versioned, diffâ€‘able, and traceable to NIST RMF & EU AI Act.</p></div>
                <div class="feat"><span class="tag">Runtime</span><h3>Enforcement SDKs</h3><p>Guardrails in gateways and apps. Block, warn, or autoâ€‘sanitize with configurable actions.</p></div>
                <div class="feat"><span class="tag">Evidence</span><h3>Signed Attestations</h3><p>Every decision emits tamperâ€‘evident evidence (Sigstore). Export to auditors & customers.</p></div>
                <div class="feat"><span class="tag">Risk</span><h3>Drift Detection</h3><p>Model & schema drift tracking; trigger retraining or rollbacks automatically.</p></div>
                <div class="feat"><span class="tag">Privacy</span><h3>PII & Toxicity Filters</h3><p>Inline redaction & toxicity scoring to keep content safe without slowing teams.</p></div>
                <div class="feat"><span class="tag">Observability</span><h3>LLM Traces</h3><p>Prompt templates, latencies, costs, providers, and policy outcomes â€” in one pane.</p></div>
            </div>
        </div>
    </section>

    <!-- SERVICES / PRICING -->
    <section id="services" class="section">
        <div class="wrap">
            <div style="text-align:center;margin-bottom:24px">
                <h2>Professional Services</h2>
                <p class="sub">Technology plus expertise. We ensure successful adoption through consulting, training, and support.</p>
            </div>
            <div class="featgrid">
                <div class="feat"><h3>FREE Â· ğŸ¯ Discovery Session</h3><p>30â€‘minute strategic discussion on governance & enforcement needs.</p><a class="btn btn-outline" href="mailto:rob@infinitedatasolutions.com?subject=Discovery%20Session">Schedule Now â†’</a></div>
                <div class="feat"><h3>$75 Â· ğŸ”¬ Technical Deep Dive</h3><p>One hour with architects covering integration & scalability.</p><a class="btn btn-outline" href="mailto:rob@infinitedatasolutions.com?subject=Technical%20Deep%20Dive">Book Session â†’</a></div>
                <div class="feat"><h3>Project Â· ğŸ“ Contract Creation</h3><p>Design API contracts & governance policies tailored to compliance.</p><a class="btn btn-outline" href="mailto:rob@infinitedatasolutions.com?subject=Contract%20Creation">Start Project â†’</a></div>
                <div class="feat"><h3>$3â€‘8K Â· ğŸ—ï¸ Architecture Design</h3><p>Build nextâ€‘gen API architectures that enforce contracts in real time.</p><a class="btn btn-outline" href="mailto:rob@infinitedatasolutions.com?subject=Architecture%20Design">Design System â†’</a></div>
                <div class="feat"><h3>$2â€‘5K Â· ğŸ“ Team Workshops</h3><p>Training on contractâ€‘driven development & controls as code.</p><a class="btn btn-outline" href="mailto:rob@infinitedatasolutions.com?subject=Team%20Workshops">Book Workshop â†’</a></div>
                <div class="feat"><h3>Monthly Â· ğŸ”§ Ongoing Support</h3><p>Contract maintenance, updates, monitoring, and optimization.</p><a class="btn btn-outline" href="mailto:rob@infinitedatasolutions.com?subject=Ongoing%20Support">Get Support â†’</a></div>
                <div class="feat"><h3>Custom Â· âœ… Audit & Compliance</h3><p>Comprehensive audits, verification, and regulatory reporting.</p><a class="btn btn-outline" href="mailto:rob@infinitedatasolutions.com?subject=Audit%20%26%20Compliance">Schedule Audit â†’</a></div>
                <div class="feat"><h3>Retainer Â· ğŸ“Š Analytics & Insights</h3><p>Dashboards for contract performance & compliance metrics.</p><a class="btn btn-outline" href="mailto:rob@infinitedatasolutions.com?subject=Analytics%20%26%20Insights">Get Insights â†’</a></div>
                <div class="feat"><h3>Grant Â· ğŸ“ Education Initiative</h3><p>Partner to bring AI governance education to MD universities.</p><a class="btn btn-outline" href="mailto:rob@infinitedatasolutions.com?subject=Education%20Initiative">Join Initiative â†’</a></div>
            </div>
        </div>
    </section>

    <!-- PARTNERSHIP CTA -->
    <section id="partnership" class="cta section">
        <div class="wrap">
            <h2>Founding Partner Opportunity</h2>
            <p class="sub" style="max-width:760px;margin:8px auto 0">Weâ€™re selecting 5 visionary organizations to coâ€‘create the future of AI governance and observability â€” with coâ€‘development rights, preferential economics, and Maryland leadership opportunities.</p>
            <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:18px">
                <a class="btn btn-primary btn-lg" href="mailto:rob@infinitedatasolutions.com?subject=Founding%20Partner">Become a Founding Partner</a>
                <a class="btn btn-outline btn-lg" href="mailto:rob@infinitedatasolutions.com?subject=Schedule%20Consultation">Schedule Consultation</a>
            </div>
        </div>
    </section>

    <!-- MARYLAND ADVANTAGE -->
    <section class="section" style="background:var(--surface-2);border-top:1px solid var(--border);border-bottom:1px solid var(--border)">
        <div class="wrap">
            <div style="text-align:center;margin-bottom:24px">
                <h2>The Maryland Advantage</h2>
                <p class="sub">Proximity to federal agencies. Worldâ€‘class research. An ascendant tech corridor. Every engagement strengthens Marylandâ€™s economy and talent pipeline.</p>
            </div>
            <div class="featgrid">
                <div class="feat"><h3>50+ Highâ€‘Tech Jobs</h3><p>Created by 2026 through projects, programs, and partnerships.</p></div>
                <div class="feat"><h3>$10M+ Education Investment</h3><p>Direct funding for training & upskilling across MD institutions.</p></div>
                <div class="feat"><h3>100% MDâ€‘First Hiring</h3><p>Commitment to building with Maryland talent and partners.</p></div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="section">
        <div class="wrap foot">
            <div style="display:flex;gap:10px;justify-content:center;align-items:center"><div class="mark">DF</div><strong>DriftForce</strong></div>
            <div style="display:flex;gap:14px;justify-content:center;flex-wrap:wrap">
                <a class="btn btn-outline" href="mailto:rob@infinitedatasolutions.com">Email</a>
                <a class="btn btn-outline" target="_blank" href="https://www.linkedin.com/in/rob-mcmahon1">LinkedIn</a>
                <a class="btn btn-outline" target="_blank" href="https://github.com/RMCMAHON314/driftforce-api">GitHub</a>
                <a class="btn btn-outline" target="_blank" href="https://driftforce-api.onrender.com/docs">API Docs</a>
            </div>
            <div style="color:var(--muted-2)">Â© 2025 DriftForce by Infinite Data Solutions Â· Built in Baltimore ğŸ¦€ Â· Womanâ€‘Owned Maryland Business</div>
        </div>
    </footer>

    <!-- Lightweight demo wiring: safe no-op if demo UI not present. Respects meta[name="driftforce-api-base"] -->
    <script>
    (function(){
        // safe selectors (no-op if elements missing)
        const presetSelect = document.getElementById('preset');
        const promptEl = document.getElementById('prompt');
        const responseEl = document.getElementById('response');
        const apiKeyEl = document.getElementById('apiKey');
        const runDemoBtn = document.getElementById('runDemo');
        const runCheckBtn = document.getElementById('runCheck');
        const issuesList = document.getElementById('issuesList');
        const summary = document.getElementById('summary');
        const copyPayloadBtn = document.getElementById('copyPayload');
        const downloadJsonBtn = document.getElementById('downloadJson');
        const downloadCsvBtn = document.getElementById('downloadCsv');

        if(!promptEl || !responseEl) return; // no demo UI present

        const demoKey = 'df_demo_key_123';
        const presets = {
            'ai_disclosure': {prompt:'How do I cancel?', response:'As an AI model, visit https://fake.com â€” 97% success.'},
            'unsourced_stat': {prompt:'What are the success rates?', response:'Our product has a 92% success rate across customers.'},
            'unsourced_reference': {prompt:'Is it proven?', response:'According to a recent study, 60% of trials showed improvement.'}
        };

        if(presetSelect){
            presetSelect.addEventListener('change', ()=>{
                const v = presetSelect.value;
                if(!v) return;
                promptEl.value = presets[v].prompt;
                responseEl.value = presets[v].response;
            });
        }

        function apiBase(){
            return document.querySelector('meta[name="driftforce-api-base"]')?.content || '';
        }

        async function callApi(path, body, key){
            const headers = {'Content-Type':'application/json'};
            if(key) headers['Authorization'] = 'Bearer ' + key;
            const base = apiBase();
            const url = (base || '') + path;
            const r = await fetch(url, {method:'POST', headers, body: JSON.stringify(body)});
            if(!r.ok) throw new Error('API error: '+r.status);
            return r.json();
        }

        function renderIssues(result){
            if(!issuesList || !summary) return;
            issuesList.innerHTML = '';
            summary.innerHTML = '';
            const badge = document.createElement('div');
            badge.className = 'result-badge';
            badge.innerHTML = `<div class='score-gauge'>${(result.drift_score*100).toFixed(0)}%</div> <div>${result.drift_detected? 'DRIFT' : 'OK'}</div>`;
            summary.appendChild(badge);
            (result.issues||[]).forEach(issue=>{
                const div = document.createElement('div');
                div.className = 'issue ' + (issue.severity==='critical' ? 'sev-critical' : issue.severity==='high' ? 'sev-high' : issue.severity==='medium' ? 'sev-medium' : 'sev-low');
                div.innerHTML = `<div style='display:flex; justify-content:space-between; align-items:center;'><strong>${issue.type}</strong><span class='muted'>score ${issue.score?issue.score.toFixed(2):'N/A'}</span></div><div style='margin-top:6px'>${issue.detail}</div><div style='margin-top:8px; font-size:13px; color:var(--gray-600)'><strong>Recommendation:</strong> ${issue.recommendation || 'â€”'}</div><div style='margin-top:8px; font-size:13px; color:var(--gray-700)'><strong>Evidence:</strong> <code>${issue.evidence||''}</code></div>`;
                issuesList.appendChild(div);
            });
        }

        if(runDemoBtn){
            runDemoBtn.addEventListener('click', async ()=>{
                try{
                    const body = {prompt: promptEl.value, response: responseEl.value};
                    const res = await callApi('/v1/demo', body);
                    renderIssues(res);
                }catch(e){ alert('Error calling demo: '+e.message) }
            });
        }

        if(runCheckBtn){
            runCheckBtn.addEventListener('click', async ()=>{
                try{
                    const key = (apiKeyEl && apiKeyEl.value) || demoKey;
                    const res = await callApi('/v1/check', {prompt: promptEl.value, response: responseEl.value}, key);
                    renderIssues(res);
                }catch(e){ alert('Error calling check: '+e.message) }
            });
        }

        if(copyPayloadBtn){
            copyPayloadBtn.addEventListener('click', ()=>{
                const payload = {prompt: promptEl.value, response: responseEl.value};
                navigator.clipboard?.writeText(JSON.stringify(payload, null, 2));
            });
        }

        if(downloadJsonBtn){
            downloadJsonBtn.addEventListener('click', ()=>{
                const payload = {prompt: promptEl.value, response: responseEl.value};
                const blob = new Blob([JSON.stringify(payload, null, 2)], {type:'application/json'});
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a'); a.href = url; a.download = 'payload.json'; a.click();
            });
        }

        if(downloadCsvBtn){
            downloadCsvBtn.addEventListener('click', ()=>{
                alert('CSV export coming soon');
            });
        }

    })();
    </script>

</body>
</html>
